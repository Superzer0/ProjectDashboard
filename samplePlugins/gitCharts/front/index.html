<script data-server-link src="gitCharts.js"></script>

<div ng-controller="gitChartsCtrl" data-app-id>
  <div class="card-content">

    <!-- loading -->
    <div class="progress" ng-show="showLoader()">
      <div class="indeterminate"></div>
    </div>

    <!-- error -->
    <div ng-show="showError()" style="text-align:center;">
       <i class="material-icons">error_outline</i>
       <br>
       <span>Error occured
        <a ng-click="fetchCommits()" href>
          reload
        </a>
      </span>
    </div>

  <!-- empty state -->
  <div ng-show="showEmptyState()" style="text-align:center;">
   <i class="material-icons">not_interested</i>
   <br>
   <span>Nothing to show here.
    <a ng-click="fetchCommits()" href>
      reload
    </a>
  </span>
  </div>

<!-- content -->  
<div ng-show="showContent()">

  <div class="row">
    <div class="col s12">
      <canvas id="commit-activity" class="chart chart-line" chart-data="commitActivity.data"
      chart-labels="commitActivity.labels" chart-legend="true" chart-series="commitActivity.series">
    </canvas> 
  </div>
</div>     

<div class="row">
  <div class="col s12">
    <canvas id="commit-frequency" class="chart chart-line" chart-data="commitFrequency.data"
    chart-labels="commitFrequency.labels" chart-legend="true" chart-series="commitFrequency.series">
  </canvas> 
</div>
</div>     

</div>    

<div class="card-action">
  <span class="help-block">
    <i> showing commits from: <b>{{config.repoOwner}} </b>/<b>{{config.repoName}} </b></i>
  </span>
  <span ng-show="lastFetchedOn" class="help-block">
    <i>last fetched on: {{lastFetchedOn | date : 'medium'}} </i>
    <a ng-click="fetchCommits()" href> 
     reload
   </a>
 </span>
</div>
</div>